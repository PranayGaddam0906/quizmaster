<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard</title>
    <link rel="shortcut icon" href="./images/logo.png">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/profile.css') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/pratibha_logo-transformed.png') }}">
</head>
<style>
        .flex-wrapper {
  display: flex;
  flex-flow: row nowrap;
}

.single-chart {
  width: 33%;
  justify-content: space-around ;
}

.circular-chart {
  display: block;
  margin: 10px auto;
  max-width: 80%;
  max-height: 250px;
}

.circle-bg {
  fill: none;
  stroke: #eee;
  stroke-width: 3.8;
}

.circle {
  fill: none;
  stroke-width: 2.8;
  stroke-linecap: round;
  animation: progress 1s ease-out forwards;
}

@keyframes progress {
  0% {
    stroke-dasharray: 0 100;
  }
}

.circular-chart.orange .circle {
stroke:  #7380ec;
}

.percentage
{
    background-color:var(--color-dark) ;
    color:var(--color-white);
    font-size: 0.4em;
    text-anchor: middle;
}
</style>
<body>
    <header>
        <div class="logo" title="University Management System">
            <h2>E<span class="danger">C</span>M</h2>
            <h2>Pathibha</h2>
        </div>
        <div class="navbar">
            <a href="/profile" class="active">
                <span class="material-icons-sharp">home</span>
                <h3>Home</h3>
            </a>
            <a href="/my_course">
                <span class="material-icons-sharp">today</span>
                <h3>Courses</h3>
            </a> 
            <a href="/result">
                <span class="material-icons-sharp">grid_view</span>
                <h3>Results</h3>
            </a>
        </div>
        <div id="profile-btn">
            <span class="material-icons-sharp">person</span>
        </div>
        <div class="theme-toggler">
            <span class="material-icons-sharp active">light_mode</span>
            <span class="material-icons-sharp">dark_mode</span>
        </div>
        
    </header>
    <div class="container">
        <aside>
            <div class="profile">
                <div class="top">
                    <div class="profile-photo">
                        <img src="{{url_for('static',filename='images/user.png')}}" alt="" srcset="">
                    </div>
                    <div class="info">
                        <p>Hey, <b>{{name}}</b> </p>
                    </div>
                </div>
            </div>
        </aside>

        <main>
            <h1>Course Analysis</h1>
            <div class="subjects">
                <!-- <div class="eg">
                    <span class="material-icons-sharp">architecture</span>
                    <h3>Number of Tests</h3>
                    <h2>{{number}}</h2>
                </div> -->
                <div class="mth">
                    <span class="material-icons-sharp">functions</span>
                    <h3>Average Score</h3>
                    <h2>{{score}}/10</h2>
                    <svg viewBox="0 0 36 36" class="circular-chart orange">
                        <path class="circle-bg"
                          d="M18 2.0845
                            a 15.9155 15.9155 0 0 1 0 31.831
                            a 15.9155 15.9155 0 0 1 0 -31.831"
                        />
                        <path class="circle"
                          stroke-dasharray="{{score*10}}, 100"
                          d="M18 2.0845
                            a 15.9155 15.9155 0 0 1 0 31.831
                            a 15.9155 15.9155 0 0 1 0 -31.831"
                        />
                        <text x="18" y="20.35" class="percentage">{{score*10}}%</text>
                    </svg>
                    
                </div>
                <div class="cs">
                    <span class="material-icons-sharp">computer</span>
                    <h3>Average wrong</h3>
                    <h2>{{wrong}}/10</h2>
                    <svg viewBox="0 0 36 36" class="circular-chart orange">
                        <path class="circle-bg"
                          d="M18 2.0845
                            a 15.9155 15.9155 0 0 1 0 31.831
                            a 15.9155 15.9155 0 0 1 0 -31.831"
                        />
                        <path class="circle"
                          stroke-dasharray="{{wrong*10}}, 100"
                          d="M18 2.0845
                            a 15.9155 15.9155 0 0 1 0 31.831
                            a 15.9155 15.9155 0 0 1 0 -31.831"
                        />
                        <text x="18" y="20.35" class="percentage">{{wrong*10}}%</text>
                    </svg>
                </div>
                <div class="cg">
                    <span class="material-icons-sharp">dns</span>
                    <h3>Average Attempted</h3>
                    <h2>{{attempted}}/10</h2>
                    <svg viewBox="0 0 36 36" class="circular-chart orange">
                        <path class="circle-bg"
                          d="M18 2.0845
                            a 15.9155 15.9155 0 0 1 0 31.831
                            a 15.9155 15.9155 0 0 1 0 -31.831"
                        />
                        <path class="circle"
                          stroke-dasharray="{{attempted*10}}, 100"
                          d="M18 2.0845
                            a 15.9155 15.9155 0 0 1 0 31.831
                            a 15.9155 15.9155 0 0 1 0 -31.831"
                        />
                        <text x="18" y="20.35" class="percentage">{{attempted*10}}%</text>
                      </svg>
                </div>
                <div class="net">
                    <span class="material-icons-sharp">router</span>
                    <h3>Average Unattempt</h3>
                    <h2>{{unattempted}}/10</h2>
                    <svg viewBox="0 0 36 36" class="circular-chart orange">
                        <path class="circle-bg"
                          d="M18 2.0845
                            a 15.9155 15.9155 0 0 1 0 31.831
                            a 15.9155 15.9155 0 0 1 0 -31.831"
                        />
                        <path class="circle"
                          stroke-dasharray="{{unattempted*10}}, 100"
                          d="M18 2.0845
                            a 15.9155 15.9155 0 0 1 0 31.831
                            a 15.9155 15.9155 0 0 1 0 -31.831"
                        />
                        <text x="18" y="20.35" class="percentage">{{unattempted*10}}%</text>
                      </svg>
                </div>
                
            </div>

            <div class="timetable" id="timetable">
                <div>
                    <span id="prevDay">&lt;</span>
                    <h2>Analyis of Prevoius Tests</h2>
                    <span id="nextDay">&gt;</span>
                </div>
            </div>
            <div class="chart">
                <canvas id="lineChart"></canvas>
            </div>
        </main>

        <div class="right">
            <div class="announcements">
                <h2>Announcements</h2>
                <div class="updates">
                    <div class="message">
                        <p> <b>Academic</b> Summer training internship with Live Projects.</p>
                        <small class="text-muted">2 Minutes Ago</small>
                    </div>
                    <div class="message">
                        <p> <b>Co-curricular</b> Global internship oportunity by Student organization.</p>
                        <small class="text-muted">10 Minutes Ago</small>
                    </div>
                    <div class="message">
                        <p> <b>Examination</b> Instructions for Mid Term Examination.</p>
                        <small class="text-muted">Yesterday</small>
                    </div>
                </div>
            </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.min.js"></script>
    <script src="{{ url_for('static', filename='js/chart1.js') }}"></script>
</body>
</html>